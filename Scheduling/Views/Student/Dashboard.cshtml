@model  Scheduling.Models.ViewModels.CombineScheduleVM
@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/Student_Layout.cshtml";
}

<div class="container">

    <div class="jumbotron">
        
            <h1 class="display-3">Dashboard</h1>
            <p class="lead">@ViewBag.studentname - @ViewBag.program</p>
        
    </div>
    

    @*<div class="row">
        <div class="col-md-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <span>@ViewBag.studentname</span>
                </div>
                <div class="panel-body">
                    @Html.ActionLink("View Schedule", "Schedule", "Student")
                </div>
            </div>
        </div>
    </div>*@




    @{ int i = 1;}
    <div class="row">
        <div class="col-md-12">




            <div class="panel panel-primary" style="font-size:12.9px;">
                <div class="panel-heading">
                    <span>Classes For Today</span>
                </div>
                <div class="panel-body">


                    @{ int x = 1; }
    @if (Model.vschedule.Count() > 0)
    {
    <div class="panel-group" id="accordion">
        
        @for (int a = 0; a < Model.vschedule.Count(); a++)
                    {
                        if (Model.vschedule.Where(s => s.ClassID == a + 1).Count() == 0)
                        {
                            //x++;
                        }
                        else
                        {

                            var it = Model.vschedule.Where(s => s.ClassID == a + 1).ToList();
                            var count = 0;

                            //foreach(var it in )

                            if (it.Count() > 0)
                            {
                    //x++;
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#@it[0].ClassID">
                            @it[0].Program - @it[0].Class
                        </a>
                    </h4>
                </div>
                <div id="@it[0].ClassID" class="panel-collapse collapse in">
                    <div class="panel-body">

                        <table class="table table-striped table-bordered table-list">

                            <thead>
                                <tr>
                                    <th>S.No.</th>
                                    <th>Course</th>
                                    <th>Section</th>
                                    <th>Teacher</th>
                                    <th>Duration</th>
                                </tr>
                            </thead>
                            <tbody>

                                
                                    
                                    @foreach (var item in it)
                                    {

                                        <tr>
                                            <td>@i</td>
                                            <td>@item.title</td>
                                            <td>@item.sectionname</td>
                                            <td>@item.teachername</td>
                                            <td>@item.duration</td>
                                        </tr>
                                        i++;
                                        count++;
                                    }
                                

                            </tbody>
                        </table>

                    </div>
                    <div class="panel-footer">

                    </div>
                </div>
            </div>
                }
                else { }
            }
        }

    </div>
    }
    else
    {

                    <table class="table table-striped table-bordered table-list">
                        <tr>
                            <td>No classes scheduled for today </td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
    }
</div>
            </div>
        </div>

    </div>
</div>



